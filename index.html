<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Cattery Quick Review</title>
<style>
  body { font-family: Arial, sans-serif; background: #fefefe; padding: 20px; }
  .container { max-width: 600px; margin: auto; text-align: center; }
  h1 { color: #333; }
  .intro { margin-bottom: 20px; font-size: 1rem; color: #555; }
  .rating { font-size: 2rem; margin: 15px 0; }
  .star { cursor: pointer; color: lightgray; margin: 0 3px; transition: color 0.2s; }
  .star.selected { color: gold; }
  #options { display: flex; justify-content: center; flex-wrap: wrap; gap: 10px; margin-bottom: 20px; }
  .option { padding: 8px 15px; border: 1px solid #888; border-radius: 5px; background: white; cursor: pointer; transition: 0.2s; }
  .option.selected { background: #4caf50; color: white; border-color: #4caf50; }
  #review-text { width: 100%; height: 250px; padding: 10px; resize: vertical; font-size: 1rem; margin-bottom: 20px; }
  .submit-button { padding: 10px 20px; font-size: 1rem; border: none; background: #2196f3; color: white; cursor: pointer; border-radius: 5px; transition: 0.2s; }
  .submit-button:hover { background: #1976d2; }
  .note { font-style: italic; font-size: 0.9rem; margin-bottom: 10px; color: #666; }
</style>
</head>
<body>
<div class="container">
  <h1>Cat Heaven Hotel Review</h1>
  <p class="intro">Thanks for leaving and entrusting your cat with us! We would love to receive your review ðŸ’œ</p>

  <div class="step">
    <h2>Step 1: Select the Stars</h2>
    <div class="rating">
      <span class="star" data-value="1">â˜…</span>
      <span class="star" data-value="2">â˜…</span>
      <span class="star" data-value="3">â˜…</span>
      <span class="star" data-value="4">â˜…</span>
      <span class="star" data-value="5">â˜…</span>
    </div>
  </div>

  <div class="step">
    <h2>Step 2: Select Services</h2>
    <div id="options">
      <button class="option">Staff</button>
      <button class="option">Rooms</button>
      <button class="option">Prices</button>
    </div>
  </div>

  <div class="note">Clicking different stars or services will generate new text</div>

  <div class="step">
    <h2>Step 3: Generated Review</h2>
    <textarea id="review-text" placeholder="Your review will appear here..."></textarea>
  </div>

  <button class="submit-button" onclick="postReview()">Post Review to Google</button>
</div>

<script>
const stars = document.querySelectorAll('.star');
let currentRating = 0;
const options = document.querySelectorAll('.option');
let selectedServices = [];
const reviewTextArea = document.getElementById('review-text');

stars.forEach(star => {
  star.addEventListener('click', () => {
    currentRating = parseInt(star.getAttribute('data-value'));
    updateStars();
    updateReview();
  });
});

function updateStars() {
  stars.forEach(star => {
    star.classList.toggle('selected', parseInt(star.getAttribute('data-value')) <= currentRating);
  });
}

options.forEach(option => {
  option.addEventListener('click', () => {
    option.classList.toggle('selected');
    const service = option.textContent;
    if (selectedServices.includes(service)) {
      selectedServices = selectedServices.filter(s => s !== service);
    } else {
      selectedServices.push(service);
    }
    updateReview();
  });
});

// Snippets per service per rating
const serviceTexts = {
  "Staff": {
    1: [
      "The staff were inattentive and my cat seemed anxious throughout the stay.",
      "Staff appeared indifferent and did not monitor pets properly, causing stress.",
      "Communication was poor and no reassurance was provided during the visit.",
      "Staff were unorganized and unsure about handling cats.",
      "The environment felt unwelcoming and service was chaotic."
    ],
    2: [
      "Staff tried to be attentive but missed important cues; the stay was okay.",
      "Attention to pets was inconsistent, though basic care was provided.",
      "Some staff were friendly while others seemed distracted.",
      "Staff made an effort but lacked consistency in pet care.",
      "Some needs were met, but overall the experience felt uncertain."
    ],
    3: [
      "Staff were polite and attentive; basic needs were met reliably.",
      "Service met expectations and pets were cared for adequately.",
      "Staff provided a comfortable and reassuring environment.",
      "Helpful staff ensured pets were safe and content.",
      "Service was consistent and reliable with minor improvements possible."
    ],
    4: [
      "Staff anticipated needs and provided attentive care for pets.",
      "Highly professional and friendly staff ensured a pleasant stay.",
      "Service exceeded expectations with excellent attention to detail.",
      "Staff were proactive, engaged, and caring throughout the visit.",
      "Personalized care made pets feel comfortable and welcomed."
    ],
    5: [
      "Staff were exceptional, highly attentive, and professional.",
      "Service exceeded expectations, with flawless care and attention.",
      "Staff anticipated every need and ensured pets were pampered.",
      "Perfect, stress-free experience provided by caring and knowledgeable staff.",
      "Exceptional service throughout, dedicated to pets' wellbeing."
    ]
  },
  "Rooms": {
    1: [
      "Rooms were dirty, uncomfortable, and poorly maintained.",
      "Accommodation lacked hygiene and proper amenities, causing stress.",
      "Rooms were unclean and minimal comfort was provided.",
      "Poor ventilation and small spaces made pets uneasy.",
      "Rooms were below standard and unsafe for pets."
    ],
    2: [
      "Rooms were somewhat clean but lacked comfort and attention to detail.",
      "Accommodation was acceptable but hygiene and comfort were inconsistent.",
      "Rooms were functional but uninspiring.",
      "Rooms were okay, but minor improvements were needed.",
      "Basic safety and comfort were met, but not fully satisfying."
    ],
    3: [
      "Rooms were clean, comfortable, and adequately furnished.",
      "Accommodation met expectations and pets felt safe and relaxed.",
      "Rooms were satisfactory with good hygiene and amenities.",
      "Pets could enjoy a tidy and well-kept environment.",
      "Comfortable rooms provided a reliable stay."
    ],
    4: [
      "Rooms were spacious, clean, and thoughtfully furnished.",
      "Accommodation was impressive, safe, and comfortable.",
      "Rooms were attractive, maintained, and cozy for pets.",
      "Pets enjoyed a welcoming and clean environment.",
      "Excellent attention to cleanliness, safety, and comfort."
    ],
    5: [
      "Rooms were luxurious, pristine, and beautifully arranged.",
      "Accommodation was exceptional and made pets feel pampered.",
      "Rooms offered ultimate comfort and elegance.",
      "Flawless environment ensured a stress-free stay.",
      "Rooms exceeded expectations in every detail."
    ]
  },
  "Prices": {
    1: [
      "Prices were far too high for the poor service and accommodation.",
      "Cost did not reflect the substandard experience.",
      "Pricing was disappointing and excessive.",
      "Expenses were high relative to quality.",
      "Price was unjustified given the poor standards."
    ],
    2: [
      "Prices were slightly high, considering some shortcomings.",
      "Cost was somewhat justified, but improvements needed.",
      "Pricing was moderate but could feel expensive.",
      "Prices were fair but not entirely proportional.",
      "Costs acceptable, yet experience could improve value."
    ],
    3: [
      "Prices were reasonable and matched the service provided.",
      "Fair cost reflecting adequate care and accommodation.",
      "Pricing was appropriate for the experience offered.",
      "Value was acceptable and met expectations.",
      "Cost matched the quality and services provided."
    ],
    4: [
      "Prices were very fair for the quality service and rooms.",
      "Excellent value with high-standard service and care.",
      "Costs reflected great attention to pets' needs.",
      "Pricing was justifiable for professional and attentive service.",
      "Outstanding value for quality care and amenities."
    ],
    5: [
      "Prices were completely justified for the exceptional service and luxury.",
      "Outstanding value for premium care and high-end rooms.",
      "Cost was appropriate given flawless service and attention to detail.",
      "Excellent pricing for exceptional service and comfort.",
      "Worth every dollar, exceeding expectations in every aspect."
    ]
  }
};

// Function to replace repeated subjects with pronouns
function replaceSubjects(snippets) {
  return snippets.map((s, i) => {
    if (i === 0) return s;
    // Replace "Staff" with "They" or "The team", "Rooms" with "They"
    return s.replace(/\bStaff\b/g, i % 2 === 0 ? "They" : "The team")
            .replace(/\bRooms\b/g, "They")
            .replace(/\bPrices\b/g, "They");
  });
}

// Truncate to ~120 words
function truncateReview(text) {
  const words = text.split(' ');
  return words.slice(0, 120).join(' ');
}

function updateReview() {
  if (currentRating === 0 || selectedServices.length === 0) {
    reviewTextArea.value = "";
    return;
  }
  let combinedReview = "";
  selectedServices.forEach(service => {
    const snippets = serviceTexts[service][currentRating];
    const shuffled = snippets.sort(() => 0.5 - Math.random());
    const selectedSnippets = replaceSubjects(shuffled.slice(0, 3));
    combinedReview += selectedSnippets.join(" ") + " ";
  });
  reviewTextArea.value = truncateReview(combinedReview.trim());
}

function postReview() {
  const googleReviewLink = 'https://g.page/r/CATTERY_GOOGLE_REVIEW_LINK';
  window.open(googleReviewLink, '_blank');
}
</script>
</body>
</html>
