<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Cattery Quick Review</title>
<style>
  body { font-family: Arial, sans-serif; background: #fefefe; padding: 20px; }
  .container { max-width: 600px; margin: auto; text-align: center; }
  h1 { color: #333; }
  .intro { margin-bottom: 20px; font-size: 1rem; color: #555; }
  .rating { font-size: 2rem; margin: 15px 0; }
  .star { cursor: pointer; color: lightgray; margin: 0 3px; transition: color 0.2s; }
  .star.selected { color: gold; }
  #options { display: flex; justify-content: center; flex-wrap: wrap; gap: 10px; margin-bottom: 20px; }
  .option { padding: 8px 15px; border: 1px solid #888; border-radius: 5px; background: white; cursor: pointer; transition: 0.2s; }
  .option.selected { background: #4caf50; color: white; border-color: #4caf50; }
  #review-text { width: 100%; height: 250px; padding: 10px; resize: vertical; font-size: 1rem; margin-bottom: 20px; }
  .submit-button { padding: 10px 20px; font-size: 1rem; border: none; background: #2196f3; color: white; cursor: pointer; border-radius: 5px; transition: 0.2s; }
  .submit-button:hover { background: #1976d2; }
  .italic { font-style: italic; font-size: 0.9rem; color: #777; margin-bottom: 15px; display: block; }
</style>
</head>
<body>
<div class="container">
  <h1>Cat Heaven Hotel Review</h1>
  <p class="intro">Thanks for leaving and entrusting your cat with us! We would love to receive your review ðŸ’œ</p>

  <div class="step">
    <h2>Step 1: Select the Stars</h2>
    <div class="rating">
      <span class="star" data-value="1">â˜…</span>
      <span class="star" data-value="2">â˜…</span>
      <span class="star" data-value="3">â˜…</span>
      <span class="star" data-value="4">â˜…</span>
      <span class="star" data-value="5">â˜…</span>
    </div>
  </div>

  <div class="step">
    <h2>Step 2: Select Services</h2>
    <span class="italic">Clicking different stars or services will generate new text</span>
    <div id="options">
      <button class="option">Staff</button>
      <button class="option">Rooms</button>
      <button class="option">Prices</button>
    </div>
  </div>

  <div class="step">
    <h2>Step 3: Generated Review</h2>
    <textarea id="review-text" placeholder="Your review will appear here..."></textarea>
  </div>

  <button class="submit-button" onclick="postReview()">Post Review to Google</button>
</div>

<script>
const stars = document.querySelectorAll('.star');
let currentRating = 0;
const options = document.querySelectorAll('.option');
let selectedServices = [];
const reviewTextArea = document.getElementById('review-text');

// Stars logic
stars.forEach(star => {
  star.addEventListener('click', () => {
    currentRating = parseInt(star.getAttribute('data-value'));
    updateStars();
    updateReview();
  });
});

function updateStars() {
  stars.forEach(star => {
    star.classList.toggle('selected', parseInt(star.getAttribute('data-value')) <= currentRating);
  });
}

// Services buttons logic
options.forEach(option => {
  option.addEventListener('click', () => {
    option.classList.toggle('selected');
    const service = option.textContent;
    if (selectedServices.includes(service)) {
      selectedServices = selectedServices.filter(s => s !== service);
    } else {
      selectedServices.push(service);
    }
    updateReview();
  });
});

// Review snippets per service & rating
const serviceTexts = {
  "Staff": {
    1: [
      "Staff were inattentive and caused stress for my cat.",
      "Service was disappointing, staff seemed indifferent.",
      "Staff failed to meet basic expectations, causing discomfort.",
      "Staff were unorganized and unhelpful during the stay.",
      "Staff lacked professionalism and care, making it stressful."
    ],
    2: [
      "Staff tried to be attentive but were inconsistent.",
      "Service was below average; some attention was given.",
      "Staff were polite but inexperienced.",
      "Staff provided basic care, but not thorough.",
      "Service could improve; staff were only partially attentive."
    ],
    3: [
      "Staff were friendly and attentive, meeting expectations.",
      "Service was satisfactory; my cat felt comfortable.",
      "Staff monitored pets well and communicated clearly.",
      "Service was consistent and reliable throughout the stay.",
      "Staff provided adequate care, minor improvements possible."
    ],
    4: [
      "Staff were highly professional, caring, and attentive.",
      "Service was very good; my cat felt safe and happy.",
      "Staff anticipated needs and provided excellent care.",
      "Service exceeded expectations with proactive attention.",
      "Staff were engaged, friendly, and ensured comfort."
    ],
    5: [
      "Staff were exceptional, highly attentive, and professional.",
      "Service exceeded expectations, with flawless care.",
      "Staff provided perfect, stress-free experience for my cat.",
      "Service was perfect; attentive, friendly, and knowledgeable staff.",
      "Exceptional service; staff dedicated to my cat's wellbeing."
    ]
  },
  "Rooms": { /* Keep previous Rooms snippets here */ },
  "Prices": { /* Keep previous Prices snippets here */ }
};

// Generate review ~100-120 words
function generateReview() {
  if (currentRating === 0 || selectedServices.length === 0) return "";

  let sentences = [];
  selectedServices.forEach(service => {
    const snippets = serviceTexts[service][currentRating];
    const shuffled = snippets.sort(() => 0.5 - Math.random());
    sentences.push(...shuffled.slice(0, 3));
  });

  let words = sentences.join(" ").split(" ");
  words = words.slice(0, 120); // limit to ~120 words
  let review = words.join(" ");

  // Remove trailing multiple dots
  review = review.replace(/\.\.+$/, ".");
  return review;
}

// Update review textarea
function updateReview() {
  reviewTextArea.value = generateReview();
}

// Post review button
function postReview() {
  const googleReviewLink = 'https://g.page/r/CATTERY_GOOGLE_REVIEW_LINK';
  window.open(googleReviewLink, '_blank');
}
</script>
</body>
</html>
